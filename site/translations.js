// Translations for SteelBike App
const translations = {
    ru: {
        // Navigation
        home: 'Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ',
        map: 'ĞšĞ°Ñ€Ñ‚Ğ°',
        profile: 'ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ',
        admin: 'ĞĞ´Ğ¼Ğ¸Ğ½',

        // Home page
        welcome: 'Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² SteelBike',
        rent_bike: 'ĞÑ€ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´',
        how_it_works: 'ĞšĞ°Ğº ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚',
        not_registered: 'Ğ’Ñ‹ Ğ½Ğµ Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹',
        register_via_bot: 'Ğ”Ğ»Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ñ‡ĞµÑ€ĞµĞ· Telegram Ğ±Ğ¾Ñ‚Ğ°',
        open_bot: 'ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ±Ğ¾Ñ‚Ğ°',
        authorization: 'ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ...',
        auth_error: 'ĞÑˆĞ¸Ğ±ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸',
        find_and_rent: 'ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¸ Ğ°Ñ€ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ»ĞµĞºÑ‚Ñ€Ğ¾Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´ Ñ€ÑĞ´Ğ¾Ğ¼.',
        available_bikes: 'Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ñ…',
        tariffs: 'Ğ¢Ğ°Ñ€Ğ¸Ñ„Ñ‹',
        enter_id: 'Ğ’Ğ²ĞµÑÑ‚Ğ¸ ID',
        book: 'Ğ‘Ñ€Ğ¾Ğ½ÑŒ',
        days: 'Ğ´Ğ½ĞµĞ¹',

        // Map page
        available_bikes: 'Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´Ñ‹',
        battery_level: 'Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ·Ğ°Ñ€ÑĞ´Ğ°',
        distance: 'Ğ Ğ°ÑÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ',
        rent_now: 'ĞÑ€ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ñ‚ÑŒ',
        select_point: 'Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¾Ñ‡ĞºÑƒ Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğµ',
        available: 'Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾',
        build_route: 'ĞŸÑ€Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚',

        // Profile page
        my_profile: 'ĞœĞ¾Ğ¹ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ',
        my_rentals: 'ĞœĞ¾Ğ¸ Ğ°Ñ€ĞµĞ½Ğ´Ñ‹',
        active_rental: 'ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ°Ñ€ĞµĞ½Ğ´Ğ°',
        rental_history: 'Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ°Ñ€ĞµĞ½Ğ´',
        balance: 'Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ',
        add_funds: 'ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ',
        verification_status: 'Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ²ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸',
        pending: 'ĞĞ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞµ',
        verified: 'ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¾',
        rejected: 'ĞÑ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¾',
        linked_card: 'ĞŸÑ€Ğ¸Ğ²ÑĞ·Ğ°Ğ½Ğ½Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ°',
        notifications: 'Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ',
        support: 'ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        city: 'Ğ“Ğ¾Ñ€Ğ¾Ğ´',
        choose_city: 'Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°',
        moscow: 'ĞœĞ¾ÑĞºĞ²Ğ°',
        saint_petersburg: 'Ğ¡Ğ°Ğ½ĞºÑ‚-ĞŸĞµÑ‚ĞµÑ€Ğ±ÑƒÑ€Ğ³',
        write_to_telegram: 'ĞĞ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ² Telegram',
        logout: 'Ğ’Ñ‹Ğ¹Ñ‚Ğ¸ Ğ¸Ğ· Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°',
        no_new_notifications: 'Ğ£ Ğ²Ğ°Ñ Ğ½ĞµÑ‚ Ğ½Ğ¾Ğ²Ñ‹Ñ… ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹.',
        payment_method: 'Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ± Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹',
        no_linked_card: 'Ğ£ Ğ²Ğ°Ñ ĞµÑ‰Ğµ Ğ½ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ²ÑĞ·Ğ°Ğ½Ğ½Ğ¾Ğ¹ ĞºĞ°Ñ€Ñ‚Ñ‹. Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿Ñ€Ğ¸Ğ²ÑĞ·Ğ°Ñ‚ÑŒ ĞµĞµ ÑĞµĞ¹Ñ‡Ğ°Ñ Ğ¸Ğ»Ğ¸ Ğ¾Ğ½Ğ° Ğ±ÑƒĞ´ĞµÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ¹ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹.',
        link_card: 'ĞŸÑ€Ğ¸Ğ²ÑĞ·Ğ°Ñ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñƒ',
        total_topups: 'Ğ’ÑĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğ¹',
        total_expenses: 'Ğ’ÑĞµĞ³Ğ¾ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ğ¾Ğ²',

        // Rental
        start_time: 'Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ°',
        end_time: 'Ğ’Ñ€ĞµĞ¼Ñ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ',
        duration: 'Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ',
        cost: 'Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ',
        bike_number: 'ĞĞ¾Ğ¼ĞµÑ€ Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´Ğ°',
        view_contract: 'ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€',
        end_rental: 'Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ Ğ°Ñ€ĞµĞ½Ğ´Ñƒ',

        // Buttons
        save: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ',
        cancel: 'ĞÑ‚Ğ¼ĞµĞ½Ğ°',
        close: 'Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ',
        confirm: 'ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ',
        back: 'ĞĞ°Ğ·Ğ°Ğ´',
        next: 'Ğ”Ğ°Ğ»ĞµĞµ',

        // Messages
        loading: 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...',
        error: 'ĞÑˆĞ¸Ğ±ĞºĞ°',
        success: 'Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾',
        no_data: 'ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',

        // Errors
        error_loading_data: 'ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',
        error_saving: 'ĞÑˆĞ¸Ğ±ĞºĞ° ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ',
        please_try_again: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ°',

        // Payment
        payment: 'ĞĞ¿Ğ»Ğ°Ñ‚Ğ°',
        pay: 'ĞĞ¿Ğ»Ğ°Ñ‚Ğ¸Ñ‚ÑŒ',
        payment_method: 'Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ± Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹',
        card: 'ĞšĞ°Ñ€Ñ‚Ğ°',

        // Support
        support: 'ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        contact_support: 'Ğ¡Ğ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹',
        faq: 'Ğ§Ğ°ÑÑ‚Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹',

        // Modals
        bike_booking: 'Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´Ğ°',
        enter_bike_id: 'Ğ’Ğ²ĞµÑÑ‚Ğ¸ ID Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´Ğ°',
        bike_id: 'ID Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´Ğ°',
        find_and_rent_btn: 'ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¸ Ğ°Ñ€ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ñ‚ÑŒ',
        booking_cost: 'Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ',
        amount_charged: 'Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ±ÑƒĞ´ĞµÑ‚ ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ° Ñ Ğ²Ğ°ÑˆĞµĞ¹ ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ¸ Ğ·Ğ°Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ° Ğ½Ğ° Ğ±Ğ°Ğ»Ğ°Ğ½Ñ',
        booking_disclaimer: 'Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ğ½Ğµ Ğ·Ğ°Ğ±ĞµÑ€ĞµÑ‚Ğµ Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´, Ğ±Ñ€Ğ¾Ğ½ÑŒ Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑÑ, Ğ° Ğ´ĞµĞ½ÑŒĞ³Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ½ÑƒÑ‚ÑÑ Ğ½Ğ° Ğ²Ğ°ÑˆĞµĞ¼ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞµ.',
        book_and_pay: 'Ğ—Ğ°Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¸ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸Ñ‚ÑŒ',
        topup_balance: 'ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°',
        topup_amount: 'Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ¿Ğ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ',
        enter_amount_rub: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑÑƒĞ¼Ğ¼Ñƒ Ğ² â‚½',
        topup: 'ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ',
        no_bikes_available: 'ĞĞµÑ‚ ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ²ĞµĞ»Ğ¾ÑĞ¸Ğ¿ĞµĞ´Ğ¾Ğ²',
        paying_agree_terms: 'ĞĞ¿Ğ»Ğ°Ñ‡Ğ¸Ğ²Ğ°Ñ, Ğ²Ñ‹ ÑĞ¾Ğ³Ğ»Ğ°ÑˆĞ°ĞµÑ‚ĞµÑÑŒ Ñ ÑƒÑĞ»Ğ¾Ğ²Ğ¸ÑĞ¼Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ°Ğ¼Ğ¸.'
    },

    en: {
        // Navigation
        home: 'Home',
        map: 'Map',
        profile: 'Profile',
        admin: 'Admin',

        // Home page
        welcome: 'Welcome to SteelBike',
        rent_bike: 'Rent a bike',
        how_it_works: 'How it works',
        not_registered: 'You are not registered',
        register_via_bot: 'To use the service, you need to register via Telegram bot',
        open_bot: 'Open Bot',
        authorization: 'Authorization...',
        auth_error: 'Authorization Error',
        find_and_rent: 'Find and rent an electric bike nearby.',
        available_bikes: 'Available',
        tariffs: 'Tariffs',
        enter_id: 'Enter ID',
        book: 'Book',
        days: 'days',

        // Map page
        available_bikes: 'Available bikes',
        battery_level: 'Battery level',
        distance: 'Distance',
        rent_now: 'Rent now',
        select_point: 'Select a point on the map',
        available: 'Available',
        build_route: 'Build Route',

        // Profile page
        my_profile: 'My Profile',
        my_rentals: 'My Rentals',
        active_rental: 'Active Rental',
        rental_history: 'Rental History',
        balance: 'Balance',
        add_funds: 'Add Funds',
        verification_status: 'Verification Status',
        pending: 'Pending',
        verified: 'Verified',
        rejected: 'Rejected',
        linked_card: 'Linked Card',
        notifications: 'Notifications',
        city: 'City',
        choose_city: 'Choose City',
        moscow: 'Moscow',
        saint_petersburg: 'Saint Petersburg',
        write_to_telegram: 'Write to Telegram',
        logout: 'Logout',
        no_new_notifications: 'You have no new notifications.',
        payment_method: 'Payment Method',
        no_linked_card: 'You don\'t have a linked card yet. You can link it now or it will be automatically saved after the first successful payment.',
        link_card: 'Link Card',
        total_topups: 'Total Top-ups',
        total_expenses: 'Total Expenses',

        // Rental
        start_time: 'Start Time',
        end_time: 'End Time',
        duration: 'Duration',
        cost: 'Cost',
        bike_number: 'Bike Number',
        view_contract: 'View Contract',
        end_rental: 'End Rental',

        // Buttons
        save: 'Save',
        cancel: 'Cancel',
        close: 'Close',
        confirm: 'Confirm',
        back: 'Back',
        next: 'Next',

        // Messages
        loading: 'Loading...',
        error: 'Error',
        success: 'Success',
        no_data: 'No data',

        // Errors
        error_loading_data: 'Error loading data',
        error_saving: 'Error saving',
        please_try_again: 'Please try again',

        // Payment
        payment: 'Payment',
        pay: 'Pay',
        payment_method: 'Payment Method',
        card: 'Card',

        // Support
        support: 'Support',
        contact_support: 'Contact Support',
        faq: 'FAQ',

        // Modals
        bike_booking: 'Bike Booking',
        enter_bike_id: 'Enter Bike ID',
        bike_id: 'Bike ID',
        find_and_rent_btn: 'Find and Rent',
        booking_cost: 'Booking Cost',
        amount_charged: 'The amount will be charged from your card and credited to your balance',
        booking_disclaimer: 'If you don\'t pick up the bike, the booking will be cancelled and the money will remain in your balance.',
        book_and_pay: 'Book and Pay',
        topup_balance: 'Top Up Balance',
        topup_amount: 'Top Up Amount',
        enter_amount_rub: 'Enter amount in â‚½',
        topup: 'Top Up',
        no_bikes_available: 'No bikes available',
        paying_agree_terms: 'By paying, you agree to the terms of service and autopayments.'
    }
};

// Helper function to get translation
function t(key, lang = 'en') {
    const keys = key.split('.');
    let value = translations[lang];

    for (const k of keys) {
        if (value && typeof value === 'object') {
            value = value[k];
        } else {
            return key; // Return key if translation not found
        }
    }

    return value || key;
}

// Get user language from localStorage or default to Russian
function getUserLanguage() {
    const lang = localStorage.getItem('userLanguage') || 'ru';
    console.log('ğŸŒ [LANG] getUserLanguage() returning:', lang);
    return lang;
}

// Set user language
function setUserLanguage(lang) {
    localStorage.setItem('userLanguage', lang);
    updatePageLanguage();
}

// Update all elements with data-i18n attribute
function updatePageLanguage() {
    const lang = getUserLanguage();
    console.log('ğŸŒ [LANG] updatePageLanguage() called, lang:', lang);
    console.log('ğŸŒ [LANG] Sample translation test - linked_card:', t('linked_card', lang));

    const elementsWithI18n = document.querySelectorAll('[data-i18n]');
    console.log('ğŸŒ [LANG] Found', elementsWithI18n.length, 'elements with data-i18n');

    elementsWithI18n.forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = t(key, lang);
        console.log('ğŸŒ [LANG] Translating:', key, 'â†’', translation, '| Key exists in translations:', key in (translations[lang] || {}));
        element.textContent = translation;
    });

    // Update placeholders
    const elementsWithPlaceholder = document.querySelectorAll('[data-i18n-placeholder]');
    console.log('ğŸŒ [LANG] Found', elementsWithPlaceholder.length, 'elements with data-i18n-placeholder');

    elementsWithPlaceholder.forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        element.placeholder = t(key, lang);
    });

    console.log('ğŸŒ [LANG] updatePageLanguage() completed');
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
    console.log('ğŸŒ [LANG] DOMContentLoaded in translations.js');
    console.log('ğŸŒ [LANG] Current localStorage.userLanguage:', localStorage.getItem('userLanguage'));

    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ ÑĞ·Ñ‹Ğº Ğ¸Ğ· URL (ĞµÑĞ»Ğ¸ Ğ¿Ñ€Ğ¸ÑˆĞ»Ğ¸ Ğ¸Ğ· Ğ±Ğ¾Ñ‚Ğ°)
    const urlParams = new URLSearchParams(window.location.search);
    const langFromUrl = urlParams.get('lang');
    console.log('ğŸŒ [LANG] URL param lang:', langFromUrl);

    if (langFromUrl && (langFromUrl === 'ru' || langFromUrl === 'en')) {
        console.log('ğŸŒ [LANG] Setting language from URL:', langFromUrl);
        setUserLanguage(langFromUrl);
    }

    console.log('ğŸŒ [LANG] Calling updatePageLanguage() from DOMContentLoaded...');
    updatePageLanguage();
});
