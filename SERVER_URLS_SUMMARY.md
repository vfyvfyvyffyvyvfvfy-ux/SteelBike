# –°–≤–æ–¥–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö URL –≤ –ø—Ä–æ–µ–∫—Ç–µ

## üåê –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã:

### 1. **Vercel (–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)**
- **URL**: `https://prizmatic-2004.vercel.app` (–∏–ª–∏ `https://go-go-b-ike.vercel.app`)
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**:
  - `bot.py` - –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `api/payments.js` - –¥–ª—è redirect –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –û—Å–Ω–æ–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, API endpoints, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

### 2. **Render.com - Contracts API (prizmatic-server)**
- **URL**: `https://gogovorprizmatic.onrender.com`
- **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è**: `CONTRACTS_API_URL`
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**:
  - `site/config.js`
  - `api/config.js`
  - `site/admin.js` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –¥–æ–≥–æ–≤–æ—Ä–æ–≤
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: 
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –¥–æ–≥–æ–≤–æ—Ä–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–∫—Ç–æ–≤ –ø—Ä–∏–µ–º–∞-–ø–µ—Ä–µ–¥–∞—á–∏
  - –û—Ç–ø—Ä–∞–≤–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 3. **Render.com - Bot Notify**
- **URL**: `https://gogovorprizmatic.onrender.com/notify`
- **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è**: `BOT_NOTIFY_URL`
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**:
  - `site/config.js`
  - `api/config.js`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: Endpoint –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

### 4. **Ngrok - OCR Worker**
- **URL**: `https://832a1274ed7e.ngrok-free.app`
- **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è**: `OCR_WORKER_URL`
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**:
  - `site/config.js`
  - `api/config.js`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Gemini API
- **‚ö†Ô∏è –í–∞–∂–Ω–æ**: Ngrok URL –≤—Ä–µ–º–µ–Ω–Ω—ã–π! –ú–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

### 5. **API Gateway (—Å—Ç–∞—Ä—ã–π?)**
- **URL**: `https://prizmagemini.onrender.com`
- **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è**: `API_GATEWAY_URL`
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**: `.env`
- **–°—Ç–∞—Ç—É—Å**: ‚ùì –í–æ–∑–º–æ–∂–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

## üìã –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è URL:

### Frontend (site/config.js):
```javascript
BOT_NOTIFY_URL: 'https://gogovorprizmatic.onrender.com/notify'
OCR_WORKER_URL: 'https://832a1274ed7e.ngrok-free.app'
CONTRACTS_API_URL: 'https://gogovorprizmatic.onrender.com'
```

### Backend (api/config.js):
```javascript
BOT_NOTIFY_URL: process.env.BOT_NOTIFY_URL || 'https://gogovorprizmatic.onrender.com/notify'
OCR_WORKER_URL: process.env.OCR_WORKER_URL || 'https://832a1274ed7e.ngrok-free.app'
CONTRACTS_API_URL: process.env.CONTRACTS_API_URL || 'https://gogovorprizmatic.onrender.com'
```

### Telegram Bot (bot.py):
```python
WEBAPP_REGISTER_API = 'https://steel-bike.vercel.app/api/telegram-register'
BOT_REGISTER_API = 'https://steel-bike.vercel.app/api/auth'
WEB_APP_URL = 'https://steel-bike.vercel.app/'
```

### Payments (api/payments.js):
```javascript
return_url: 'https://steel-bike.vercel.app/profile.html?card_saved=true'
successRedirectUrl: 'https://steel-bike.vercel.app/?rental_success=true'
// –∏ –¥—Ä—É–≥–∏–µ redirect URLs
```

---

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å:

### 1. **Vercel URL** (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è –¥–æ–º–µ–Ω):
–ó–∞–º–µ–Ω–∏—Ç—å `https://prizmatic-2004.vercel.app` –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –≤:
- ‚úÖ `bot.py` (3 –º–µ—Å—Ç–∞)
- ‚úÖ `api/payments.js` (4 –º–µ—Å—Ç–∞)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 2. **OCR Worker URL** (Ngrok –º–µ–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç–æ):
–û–±–Ω–æ–≤–∏—Ç—å `https://832a1274ed7e.ngrok-free.app` –≤:
- ‚úÖ `site/config.js`
- ‚úÖ `.env.example`
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Vercel

### 3. **Contracts API URL** (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è):
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å `https://gogovorprizmatic.onrender.com` –∞–∫—Ç—É–∞–ª–µ–Ω –ª–∏

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–µ–∑–¥–µ:

**bot.py** - –¥–æ–±–∞–≤–∏—Ç—å env vars:
```python
WEBAPP_REGISTER_API = os.getenv('WEBAPP_URL', 'https://prizmatic-2004.vercel.app') + '/api/telegram-register'
BOT_REGISTER_API = os.getenv('WEBAPP_URL', 'https://prizmatic-2004.vercel.app') + '/api/auth'
WEB_APP_URL = os.getenv('WEBAPP_URL', 'https://steel-bike.vercel.app/')
```

**api/payments.js** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å env var:
```javascript
const BASE_URL = process.env.VERCEL_URL 
  ? `https://${process.env.VERCEL_URL}` 
  : 'https://prizmatic-2004.vercel.app';
```

### 2. –ó–∞–º–µ–Ω–∏—Ç—å Ngrok –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π URL:

–í–∞—Ä–∏–∞–Ω—Ç—ã:
- –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å OCR worker –Ω–∞ Render.com (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π URL)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ngrok —Å –ø–ª–∞—Ç–Ω—ã–º –ø–ª–∞–Ω–æ–º (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Ç—É–Ω–Ω–µ–ª–∏–Ω–≥ —Å–µ—Ä–≤–∏—Å (localtunnel, serveo)

### 3. –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥:

```javascript
// config/servers.js
module.exports = {
  MAIN_APP: process.env.VERCEL_URL || 'https://prizmatic-2004.vercel.app',
  CONTRACTS_API: process.env.CONTRACTS_API_URL || 'https://gogovorprizmatic.onrender.com',
  OCR_WORKER: process.env.OCR_WORKER_URL || 'https://832a1274ed7e.ngrok-free.app',
  BOT_NOTIFY: process.env.BOT_NOTIFY_URL || 'https://gogovorprizmatic.onrender.com/notify'
};
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è URL:

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π Vercel URL
- [ ] –û–±–Ω–æ–≤–∏—Ç—å bot.py —Å –Ω–æ–≤—ã–º URL
- [ ] –û–±–Ω–æ–≤–∏—Ç—å api/payments.js redirect URLs
- [ ] –û–±–Ω–æ–≤–∏—Ç—å OCR_WORKER_URL (–µ—Å–ª–∏ ngrok –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª—Å—è)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CONTRACTS_API_URL —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel
- [ ] –û–±–Ω–æ–≤–∏—Ç—å .env —Ñ–∞–π–ª—ã –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üîç –ö–∞–∫ –Ω–∞–π—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ URL:

### Vercel:
1. –ó–∞–π—Ç–∏ –Ω–∞ vercel.com
2. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL –∏–∑ Deployments ‚Üí Production

### Render.com:
1. –ó–∞–π—Ç–∏ –Ω–∞ render.com
2. –û—Ç–∫—Ä—ã—Ç—å —Å–µ—Ä–≤–∏—Å (prizmatic-server)
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL –∏–∑ Dashboard

### Ngrok:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å ngrok: `ngrok http 3000`
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å HTTPS URL –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
3. –û–±–Ω–æ–≤–∏—Ç—å –≤–µ–∑–¥–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OCR_WORKER_URL

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **Ngrok URL –≤—Ä–µ–º–µ–Ω–Ω—ã–π** - –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
2. **Vercel URL** –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
3. **Render URL** –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π, –Ω–æ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞
4. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **HTTPS**, –Ω–µ HTTP
